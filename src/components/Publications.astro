---
import type { Publication } from "../types";

interface Props {
  publications: Publication[];
  title: string;
}

const { publications, title } = Astro.props;
---

<section id="publications" class="py-16 scroll-mt-16">
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <h2
      class="text-2xl font-bold tracking-tight sm:text-3xl"
      style="color: var(--color-text);"
    >
      {title}
    </h2>
    <div class="mt-10 space-y-8">
      {
        publications.map((pub) => (
          <article
            class="rounded-lg p-5"
            style="background-color: var(--color-bg-secondary); border: 1px solid var(--color-border);"
          >
            <div class="flex items-start justify-between gap-4">
              <span
                class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium uppercase tracking-wide"
                style={`background-color: color-mix(in srgb, var(--color-accent) 15%, transparent); color: var(--color-accent);`}
              >
                {pub.type}
              </span>
              <span
                class="text-sm font-medium"
                style="color: var(--color-text-muted);"
              >
                {pub.year}
              </span>
            </div>
            <h3
              class="mt-3 text-lg font-semibold leading-snug"
              style="color: var(--color-text);"
            >
              {pub.title}
            </h3>
            <p class="mt-1 text-sm" style="color: var(--color-text-muted);">
              {pub.authors.join(", ")}
            </p>
            <p
              class="mt-1 text-sm italic"
              style="color: var(--color-text-muted);"
            >
              {pub.venue}
            </p>
            <p
              class="mt-3 text-sm leading-relaxed"
              style="color: var(--color-text-secondary);"
            >
              {pub.description}
            </p>
            <div class="mt-4 flex flex-wrap gap-3">
              {pub.links.pdf && (
                <a
                  href={pub.links.pdf}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-colors"
                  style="background-color: var(--color-accent); color: white;"
                >
                  <svg
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"
                    />
                  </svg>
                  PDF
                </a>
              )}
              {pub.links.arxiv && (
                <a
                  href={pub.links.arxiv}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-colors"
                  style="background-color: var(--color-bg); color: var(--color-text); border: 1px solid var(--color-border);"
                >
                  <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                  </svg>
                  arXiv
                </a>
              )}
              {pub.links.doi && (
                <a
                  href={pub.links.doi}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-colors"
                  style="background-color: var(--color-bg); color: var(--color-text); border: 1px solid var(--color-border);"
                >
                  DOI
                </a>
              )}
              {pub.links.journal && (
                <a
                  href={pub.links.journal}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-colors"
                  style="background-color: var(--color-bg); color: var(--color-text); border: 1px solid var(--color-border);"
                >
                  <svg
                    class="h-4 w-4"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"
                    />
                  </svg>
                  Journal
                </a>
              )}
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>
